(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,s){},39:function(e,t,s){},66:function(e,t,s){"use strict";s.r(t);var a=s(4),n=s.n(a),c=s(33),r=s.n(c),l=(s(39),s(15)),i=s(5),h=s(6),o=s(8),j=s(7),u=(s(23),s(12)),d=s.n(u),b=s(14),m=s(0),O=function(e){Object(o.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(i.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={symbol:"",quantity:""},e.handleSubmit=function(t){t.preventDefault(),d.a.post("/favourites",{symbol:e.state.symbol,quantity:e.state.quantity,owner:e.props.user.username}).then((function(){e.setState({symbol:"",quantity:""})})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var s=t.target,a=s.name,n=s.value;e.setState(Object(b.a)({},a,n))},e}return Object(h.a)(s,[{key:"render",value:function(){return Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("label",{class:"form",htmlFor:"symbol",children:"Symbol:"}),Object(m.jsx)("input",{type:"text",id:"symbol",name:"symbol",value:this.state.symbol,onChange:this.handleChange}),Object(m.jsx)("label",{class:"form",htmlFor:"quantity",children:"Quantity:"}),Object(m.jsx)("input",{type:"number",id:"quantity",name:"quantity",value:this.state.quantity,onChange:this.handleChange}),Object(m.jsx)("button",{class:"form",type:"submit",children:"I am hodling this crypto"})]})}}]),s}(a.Component),x=function(e){Object(o.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(i.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={assets:[]},e.getData=function(){d.a.get("/marketOverview").then((function(t){e.setState({assets:t.data})})).catch((function(e){return console.log(e)}))},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state.assets.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsx)("table",{children:Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"Large Cell",children:e.name}),Object(m.jsx)("th",{className:"Cell",children:e.symbol}),Object(m.jsxs)("th",{className:"Cell",children:[e.quote.USD.price.toFixed(1)," "]}),Object(m.jsxs)("th",{className:"Cell",children:[(e.quote.USD.volume_24h/1e9).toFixed(1)," B"]}),Object(m.jsxs)("th",{className:"Cell",children:[e.quote.USD.percent_change_90d.toFixed(1)," %"]}),Object(m.jsxs)("th",{className:"Cell",children:[e.quote.USD.percent_change_7d.toFixed(1)," %"]}),Object(m.jsxs)("th",{className:"Cell",children:[e.quote.USD.percent_change_24h.toFixed(1)," %"]}),Object(m.jsxs)("th",{className:"Cell",children:[e.quote.USD.percent_change_1h.toFixed(1)," %"]}),Object(m.jsxs)("th",{className:"Cell",children:[(e.quote.USD.market_cap/1e9).toFixed(1)," B"]}),Object(m.jsx)("th",{className:"Cell",children:e.cmc_rank})]})})})})}));return Object(m.jsxs)("div",{children:[Object(m.jsx)(O,Object(l.a)({user:this.props.user,getData:this.getData},this.props)),Object(m.jsx)("table",{children:Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"Large Header Cell",children:"Coin"}),Object(m.jsx)("th",{className:"Header Cell",children:"Symbol"}),Object(m.jsx)("th",{className:"Header Cell",children:"Price ($)"}),Object(m.jsx)("th",{className:"Header Cell",children:"Volume ($) (24h)"}),Object(m.jsx)("th",{className:"Header Cell",children:"3m"}),Object(m.jsx)("th",{className:"Header Cell",children:"7d"}),Object(m.jsx)("th",{className:"Header Cell",children:"24h"}),Object(m.jsx)("th",{className:"Header Cell",children:"1h"}),Object(m.jsx)("th",{className:"Header Cell",children:"Market Cap ($)"}),Object(m.jsx)("th",{className:"Header Cell",children:"Rank"})]})})}),e]})}}]),s}(a.Component),p=(s(12),a.Component,s(12)),g=function(e){Object(o.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(i.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={favourites:[]},e.getData=function(){p.get("/favourites/".concat(e.props.user.username)).then((function(t){console.log(t),e.setState({favourites:t.data})})).catch((function(e){return console.log(e)}))},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state.favourites.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsx)("table",{class:"table",children:Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"Large Cell",children:e.name}),Object(m.jsxs)("th",{className:"Cell",children:[e.quote.USD.price.toFixed(1)," "]}),Object(m.jsxs)("th",{className:"Cell",children:[(e.quote.USD.volume_24h/1e9).toFixed(1)," B"]}),Object(m.jsxs)("th",{className:"Cell",children:[e.quote.USD.percent_change_90d.toFixed(1)," %"]}),Object(m.jsxs)("th",{className:"Cell",children:[e.quote.USD.percent_change_7d.toFixed(1)," %"]}),Object(m.jsxs)("th",{className:"Cell",children:[e.quote.USD.percent_change_24h.toFixed(1)," %"]}),Object(m.jsxs)("th",{className:"Cell",children:[e.quote.USD.percent_change_1h.toFixed(1)," %"]}),Object(m.jsxs)("th",{className:"Cell",children:[(e.quote.USD.market_cap/1e9).toFixed(1)," B"]}),Object(m.jsx)("th",{className:"Cell",children:e.cmc_rank}),Object(m.jsx)("th",{className:"Cell",children:e.quantity}),Object(m.jsx)("th",{className:"Cell",children:(e.quote.USD.price*e.quantity).toFixed(1)})]})})})})}));return Object(m.jsxs)("div",{children:[Object(m.jsx)("table",{class:"table",children:Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"Large Header Cell",children:"Coin"}),Object(m.jsx)("th",{className:"Header Cell",children:"Price ($)"}),Object(m.jsx)("th",{className:"Header Cell",children:"Volume ($) (24h)"}),Object(m.jsx)("th",{className:"Header Cell",children:"3m"}),Object(m.jsx)("th",{className:"Header Cell",children:"7d"}),Object(m.jsx)("th",{className:"Header Cell",children:"24h"}),Object(m.jsx)("th",{className:"Header Cell",children:"1h"}),Object(m.jsx)("th",{className:"Header Cell",children:"Market Cap ($)"}),Object(m.jsx)("th",{className:"Header Cell",children:"Rank"}),Object(m.jsx)("th",{className:"Header Cell",children:"Quantity"}),Object(m.jsx)("th",{className:"Header Cell",children:"Value"})]})})}),e]})}}]),s}(a.Component),f=s(17);function C(e){return Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("ul",{children:Object(m.jsx)(f.b,{class:"link",to:"/",children:"Home"})}),Object(m.jsx)("ul",{children:Object(m.jsx)(f.b,{class:"link",to:"/favourites/".concat(e.user.username),children:"Favourites"})})]})})}var v=s(2),y=function(e,t){return d.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},N=function(e,t){return d.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e}))},S=function(e){Object(o.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(i.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",message:""},e.handleChange=function(t){var s=t.target,a=s.name,n=s.value;e.setState(Object(b.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,a=s.username,n=s.password;y(a,n).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/"))}))},e}return Object(h.a)(s,[{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{children:"Signup"}),Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(m.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),Object(m.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(m.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(m.jsx)("button",{type:"submit",children:"Signup"}),this.state.message&&Object(m.jsx)("h3",{children:this.state.message})]})]})}}]),s}(a.Component),w=function(e){Object(o.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(i.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",message:""},e.handleChange=function(t){var s=t.target,a=s.name,n=s.value;e.setState(Object(b.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,a=s.username,n=s.password;N(a,n).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/"))}))},e}return Object(h.a)(s,[{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{children:"Login"}),Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(m.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),Object(m.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(m.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(m.jsx)("button",{type:"submit",children:"Login"}),this.state.message&&Object(m.jsx)("h3",{children:this.state.message})]})]})}}]),s}(a.Component),F=function(e){Object(o.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(i.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(C,{user:this.state.user}),Object(m.jsx)(v.a,{exact:!0,path:"/",render:function(t){return Object(m.jsx)(x,Object(l.a)({user:e.state.user,setUser:e.setUser},t))}}),Object(m.jsx)(v.a,{exact:!0,path:"/favourites/:ownerName",render:function(t){return Object(m.jsx)(g,Object(l.a)({user:e.state.user,setUser:e.setUser},t))}}),Object(m.jsx)(v.a,{exact:!0,path:"/signup",render:function(t){return Object(m.jsx)(S,Object(l.a)({setUser:e.setUser},t))}}),Object(m.jsx)(v.a,{exact:!0,path:"/login",render:function(t){return Object(m.jsx)(w,Object(l.a)({setUser:e.setUser},t))}})]})}}]),s}(n.a.Component),U=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,67)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),c(e),r(e)}))};d.a.get("/api/auth/loggedin").then((function(e){console.log("logged in user: ",e.data);var t=e.data;r.a.render(Object(m.jsx)(f.a,{children:Object(m.jsx)(F,{user:t})}),document.getElementById("root"))})).catch((function(e){return console.log(e)})),U()}},[[66,1,2]]]);
//# sourceMappingURL=main.2466ce37.chunk.js.map